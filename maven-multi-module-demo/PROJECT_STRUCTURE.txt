Mavenå¤šæ¨¡å—é¡¹ç›®ç»“æ„ï¼ˆæ”¯æŒæœ¬åœ°libä¾èµ–ï¼‰
=================================================================

maven-multi-module-demo/
â”‚
â”œâ”€â”€ ğŸ“„ pom.xml                                    æ ¹POM - å®šä¹‰æ‰€æœ‰æ¨¡å—
â”‚   â””â”€> modules: common, service-a, module-group
â”‚
â”œâ”€â”€ ğŸ“š æ–‡æ¡£æ–‡ä»¶
â”‚   â”œâ”€â”€ README.md                                 ä¸»è¦è¯´æ˜æ–‡æ¡£ï¼ˆä»è¿™é‡Œå¼€å§‹ï¼‰
â”‚   â”œâ”€â”€ JENKINS_GUIDE.md                          Jenkinså®Œæ•´é…ç½®æŒ‡å—
â”‚   â”œâ”€â”€ USAGE_EXAMPLE.md                          å®é™…ä½¿ç”¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ SUMMARY.md                                é¡¹ç›®æ€»ç»“
â”‚   â””â”€â”€ PROJECT_STRUCTURE.txt                     æœ¬æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ”§ å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ test-build.sh                             Linux/Macæ„å»ºæµ‹è¯•
â”‚   â””â”€â”€ test-build.bat                            Windowsæ„å»ºæµ‹è¯•
â”‚
â”œâ”€â”€ ğŸ“¦ common/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å…¬å…±æ¨¡å—ï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ pom.xml                                å…¬å…±æ¨¡å—POM
â”‚   â”‚   â”œâ”€> é…ç½®maven-install-plugin
â”‚   â”‚   â”œâ”€> å®šä¹‰å¯¹lib/*.jarçš„ä¾èµ–
â”‚   â”‚   â””â”€> Spring Boot Starterä¾èµ–
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ pom-with-local-jar-example.xml        å®Œæ•´é…ç½®ç¤ºä¾‹
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ lib/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  æœ¬åœ°jarå­˜æ”¾ç›®å½•ï¼ˆå…³é”®ï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ README.md                          libä½¿ç”¨è¯´æ˜
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ install-libs.sh                    æ‰‹åŠ¨å®‰è£…è„šæœ¬ï¼ˆLinux/Macï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ install-libs.bat                   æ‰‹åŠ¨å®‰è£…è„šæœ¬ï¼ˆWindowsï¼‰
â”‚   â”‚   â””â”€â”€ ğŸ“¦ [ä½ çš„jaræ–‡ä»¶æ”¾è¿™é‡Œ]
â”‚   â”‚       â””â”€> ä¾‹å¦‚ï¼šcommons-lang3-3.8.1.jar
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ src/
â”‚       â””â”€â”€ main/java/com/example/common/
â”‚           â””â”€â”€ ğŸ“„ CommonUtil.java                å…¬å…±å·¥å…·ç±»
â”‚               â””â”€> å¯ä»¥ä½¿ç”¨libä¸­jarçš„åŠŸèƒ½
â”‚
â”œâ”€â”€ ğŸ“¦ service-a/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å­é¡¹ç›®Aï¼ˆç›´æ¥åœ¨æ ¹ä¸‹ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ pom.xml                                Service-A POM
â”‚   â”‚   â”œâ”€> ä¾èµ–ï¼šcommonæ¨¡å—
â”‚   â”‚   â”œâ”€> ä¾èµ–ï¼šSpring Boot Web
â”‚   â”‚   â””â”€> è‡ªåŠ¨è·å¾—commonçš„libä¾èµ–
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ src/
â”‚       â””â”€â”€ main/
â”‚           â”œâ”€â”€ java/com/example/servicea/
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ ServiceAApplication.java   Spring Bootä¸»ç±»
â”‚           â”‚   â””â”€â”€ controller/
â”‚           â”‚       â””â”€â”€ ğŸ“„ TestController.java    æµ‹è¯•æ§åˆ¶å™¨
â”‚           â”‚           â””â”€> ä½¿ç”¨CommonUtil
â”‚           â”‚
â”‚           â””â”€â”€ resources/
â”‚               â””â”€â”€ ğŸ“„ application.yml            é…ç½®ï¼ˆç«¯å£8081ï¼‰
â”‚
â””â”€â”€ ğŸ“ module-group/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ¨¡å—ç»„ï¼ˆåµŒå¥—ç»“æ„ç¤ºä¾‹ï¼‰
    â”‚
    â”œâ”€â”€ ğŸ“„ pom.xml                                æ¨¡å—ç»„POMï¼ˆä¸­é—´å±‚ï¼‰
    â”‚   â””â”€> modules: service-b
    â”‚
    â””â”€â”€ ğŸ“¦ service-b/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åµŒå¥—å­é¡¹ç›®B
        â”‚
        â”œâ”€â”€ ğŸ“„ pom.xml                            Service-B POM
        â”‚   â”œâ”€> çˆ¶POMï¼šmodule-group
        â”‚   â”œâ”€> ä¾èµ–ï¼šcommonæ¨¡å—
        â”‚   â””â”€> è‡ªåŠ¨è·å¾—commonçš„libä¾èµ–
        â”‚
        â””â”€â”€ ğŸ“ src/
            â””â”€â”€ main/
                â”œâ”€â”€ java/com/example/serviceb/
                â”‚   â”œâ”€â”€ ğŸ“„ ServiceBApplication.java   Spring Bootä¸»ç±»
                â”‚   â””â”€â”€ controller/
                â”‚       â””â”€â”€ ğŸ“„ TestController.java    æµ‹è¯•æ§åˆ¶å™¨
                â”‚           â””â”€> ä½¿ç”¨CommonUtil
                â”‚
                â””â”€â”€ resources/
                    â””â”€â”€ ğŸ“„ application.yml        é…ç½®ï¼ˆç«¯å£8082ï¼‰


ä¾èµ–å…³ç³»å›¾
=================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ ¹POM (maven-multi-module-demo)           â”‚
â”‚                                                               â”‚
â”‚  å®šä¹‰ï¼š                                                        â”‚
â”‚  - ç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†                                               â”‚
â”‚  - Spring Bootä¾èµ–ç®¡ç†                                        â”‚
â”‚  - ç¼–è¯‘æ’ä»¶é…ç½®                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                â–¼              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ common â”‚      â”‚service-a â”‚   â”‚module-group  â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚               â”‚                 â”‚
        â”‚               â”‚                 â–¼
        â”‚               â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚          â”‚service-b â”‚
        â”‚               â”‚          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚               â”‚               â”‚
        â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚
        â”‚                   ä¾èµ–common
        â”‚                       â”‚
        â–¼                       â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   commonæ¨¡å—æä¾›ï¼š                â”‚
   â”‚   - CommonUtilå·¥å…·ç±»             â”‚
   â”‚   - lib/*.jarçš„åŠŸèƒ½              â”‚
   â”‚   - Spring BootåŸºç¡€ä¾èµ–          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


æ„å»ºæµç¨‹å›¾
=================================================================

å¼€å§‹æ„å»º: mvn clean install
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 1: validate                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ maven-install-plugin æ‰§è¡Œ            â”‚ â”‚
â”‚ â”‚ - è¯»å– common/lib/*.jar              â”‚ â”‚
â”‚ â”‚ - å®‰è£…åˆ°æœ¬åœ°Mavenä»“åº“                â”‚ â”‚
â”‚ â”‚ - ç”ŸæˆPOMæ–‡ä»¶                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 2: compile                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç¼–è¯‘ common æ¨¡å—                     â”‚ â”‚
â”‚ â”‚ - ä½¿ç”¨å·²å®‰è£…çš„lib/*.jar              â”‚ â”‚
â”‚ â”‚ - ç¼–è¯‘CommonUtil.java                â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 3: package                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ‰“åŒ… common.jar                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 4: install                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å®‰è£… common.jar åˆ°æœ¬åœ°ä»“åº“           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¼–è¯‘ service-a                          â”‚
â”‚ - ä¾èµ– common.jar                       â”‚
â”‚ - è‡ªåŠ¨è·å¾—libä¾èµ–                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¼–è¯‘ service-b                          â”‚
â”‚ - ä¾èµ– common.jar                       â”‚
â”‚ - è‡ªåŠ¨è·å¾—libä¾èµ–                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
            æ„å»ºæˆåŠŸ âœ“


Jenkinsæµæ°´çº¿æµç¨‹
=================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Jenkins Job                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: Checkout from Git                              â”‚
â”‚ - æ‹‰å–æ•´ä¸ªä»£ç ä»“åº“                                      â”‚
â”‚ - åŒ…å« common/lib/ ç›®å½•å’Œæ‰€æœ‰jaræ–‡ä»¶                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: Build (mvn clean install)                      â”‚
â”‚                                                         â”‚
â”‚ è‡ªåŠ¨æ‰§è¡Œï¼š                                              â”‚
â”‚ 1. validateé˜¶æ®µ                                         â”‚
â”‚    â””â”€> lib/*.jar â†’ Jenkinsæœ¬åœ°Mavenä»“åº“                â”‚
â”‚                                                         â”‚
â”‚ 2. compileé˜¶æ®µ                                          â”‚
â”‚    â””â”€> ç¼–è¯‘æ‰€æœ‰æ¨¡å—                                     â”‚
â”‚                                                         â”‚
â”‚ 3. testé˜¶æ®µ                                             â”‚
â”‚    â””â”€> è¿è¡Œæµ‹è¯•                                         â”‚
â”‚                                                         â”‚
â”‚ 4. packageé˜¶æ®µ                                          â”‚
â”‚    â””â”€> æ‰“åŒ…æ‰€æœ‰æ¨¡å—                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: Archive Artifacts                              â”‚
â”‚ - å½’æ¡£ service-a/target/*.jar                          â”‚
â”‚ - å½’æ¡£ service-b/target/*.jar                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
              éƒ¨ç½²/å‘å¸ƒ âœ“


å…³é”®è·¯å¾„è¯´æ˜
=================================================================

1. æœ¬åœ°jarå­˜æ”¾
   common/lib/your-jar.jar

2. Mavenå®‰è£…æ’ä»¶é…ç½®
   common/pom.xml
   â””â”€> maven-install-plugin
       â””â”€> file: ${project.basedir}/lib/your-jar.jar

3. ä¾èµ–å£°æ˜
   common/pom.xml
   â””â”€> <dependencies>
       â””â”€> your-jar

4. å­é¡¹ç›®ä¾èµ–
   service-a/pom.xml
   service-b/pom.xml
   â””â”€> <dependency>
       â””â”€> commonæ¨¡å—

5. æ„å»ºæ—¶è·¯å¾„è§£æ
   Jenkins workspace: /var/jenkins/workspace/your-job/
   â””â”€> common/lib/your-jar.jar
       â””â”€> ${project.basedir} è‡ªåŠ¨è§£æä¸ºç»å¯¹è·¯å¾„


å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥
=================================================================

# å®Œæ•´æ„å»º
mvn clean install

# åªç¼–è¯‘ä¸æµ‹è¯•
mvn clean compile -DskipTests

# åªæ‰“åŒ…ä¸æµ‹è¯•
mvn clean package -DskipTests

# æŸ¥çœ‹ä¾èµ–æ ‘
cd service-a
mvn dependency:tree

# æŸ¥çœ‹æœ‰æ•ˆPOM
mvn help:effective-pom

# è¯¦ç»†æ—¥å¿—
mvn clean install -X

# åªæ„å»ºç‰¹å®šæ¨¡å—
mvn clean install -pl common -am          # åªæ„å»ºcommonåŠå…¶ä¾èµ–
mvn clean install -pl service-a -am       # åªæ„å»ºservice-aåŠå…¶ä¾èµ–

# è·³è¿‡æµ‹è¯•
mvn clean install -DskipTests

# å¼ºåˆ¶æ›´æ–°ä¾èµ–
mvn clean install -U


ç«¯å£é…ç½®
=================================================================

Service-A:  http://localhost:8081
  â””â”€> /api/hello
  â””â”€> /api/format?message=test

Service-B:  http://localhost:8082
  â””â”€> /api/hello
  â””â”€> /api/format?message=test


æ–‡ä»¶å¤§å°å’Œè¡Œæ•°ï¼ˆå‚è€ƒï¼‰
=================================================================

README.md                 ~400è¡Œ   è¯¦ç»†è¯´æ˜
JENKINS_GUIDE.md          ~800è¡Œ   Jenkinsé…ç½®
USAGE_EXAMPLE.md          ~600è¡Œ   ä½¿ç”¨ç¤ºä¾‹
SUMMARY.md                ~400è¡Œ   é¡¹ç›®æ€»ç»“
common/lib/README.md      ~150è¡Œ   Libä½¿ç”¨è¯´æ˜

æ€»æ–‡æ¡£é‡ï¼šçº¦ 2,350è¡Œ


ç‰ˆæœ¬ä¿¡æ¯
=================================================================

Java:          1.8
Spring Boot:   2.7.18
Maven:         3.6+
æ„å»ºå·¥å…·:      Maven
